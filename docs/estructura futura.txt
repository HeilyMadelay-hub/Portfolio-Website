## ğŸ” **Analizando tu estructura actual en `portfolios-desarrollo/`**

BasÃ¡ndome en lo que veo, tienes:
```
portfolios-desarrollo/
â””â”€â”€ chatbot-dev/       # Portfolio 1 (actual)
    â”œâ”€â”€ frontend/
    â”œâ”€â”€ backend/
    â””â”€â”€ (aquÃ­ quieres nginx para producciÃ³n)
```

## ğŸ“‹ **ESTRUCTURA PARA NOTION:**

### **ğŸš€ FASE 1: Portfolio Individual con Nginx (ACTUAL)**

```
chatbot-dev/
â”œâ”€â”€ docker-compose.yml      # Con nginx incluido
â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ nginx.conf         # Config para 1 portfolio
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ src/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ app/
â””â”€â”€ .env                   # Variables globales
```

**docker-compose.yml para PRODUCCIÃ“N individual:**
```yaml
version: '3.8'

services:
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"  # Para HTTPS
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl  # Certificados SSL
    depends_on:
      - frontend
      - backend

  frontend:
    build: ./frontend
    expose:
      - "3000"  # Solo interno, nginx lo expone
    environment:
      - REACT_APP_API_URL=/api

  backend:
    build: ./backend
    expose:
      - "5000"  # Solo interno
    env_file: .env
    depends_on:
      - chromadb
      - ollama

  chromadb:
    image: chromadb/chroma
    volumes:
      - ./chroma-data:/chroma/chroma

  ollama:
    image: ollama/ollama
    volumes:
      - ./ollama-data:/root/.ollama
```

**nginx.conf para 1 portfolio:**
```nginx
server {
    listen 80;
    server_name tudominio.com;

    # Frontend React
    location / {
        proxy_pass http://frontend:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
    }

    # API Backend
    location /api {
        proxy_pass http://backend:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    # SSL redirect (producciÃ³n)
    # return 301 https://$server_name$request_uri;
}
```

---

### **ğŸ—ï¸ FASE 2: Estructura Multi-Portfolio (FUTURA)**

```
portfolios-desarrollo/
â”œâ”€â”€ docker-compose.yml          # Orquestador maestro
â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ nginx.conf             # Router principal
â”‚
â”œâ”€â”€ landing-page/              # PÃ¡gina principal
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ portfolio-grid.js  # Links a los 3 portfolios
â”‚   â”‚   â””â”€â”€ styles.css
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ portfolio-1-chatbot/       # Tu proyecto actual
â”‚   â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ Dockerfile.frontend
â”‚   â””â”€â”€ Dockerfile.backend
â”‚
â”œâ”€â”€ portfolio-2-fullstack/     # Segundo portfolio
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ src/
â”‚   â””â”€â”€ proyectos/
â”‚
â”œâ”€â”€ portfolio-3-creative/      # Tercer portfolio
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ designs/
â”‚   â””â”€â”€ gallery/
â”‚
â””â”€â”€ shared/                    # Recursos compartidos
    â”œâ”€â”€ ssl/                   # Certificados
    â”œâ”€â”€ assets/               # ImÃ¡genes comunes
    â””â”€â”€ analytics/            # Google Analytics
```

**docker-compose.yml MAESTRO:**
```yaml
version: '3.8'

services:
  # ROUTER PRINCIPAL
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf
      - ./shared/ssl:/etc/nginx/ssl
    depends_on:
      - landing
      - portfolio1-frontend
      - portfolio1-backend
      - portfolio2
      - portfolio3

  # LANDING PAGE
  landing:
    build: ./landing-page
    container_name: main-landing
    expose:
      - "3000"

  # PORTFOLIO 1 - CHATBOT
  portfolio1-frontend:
    build:
      context: ./portfolio-1-chatbot
      dockerfile: Dockerfile.frontend
    expose:
      - "3001"
    environment:
      - REACT_APP_API_URL=/portfolio/ai/api

  portfolio1-backend:
    build:
      context: ./portfolio-1-chatbot
      dockerfile: Dockerfile.backend
    expose:
      - "5001"
    depends_on:
      - chromadb
      - ollama

  # PORTFOLIO 2 - FULLSTACK
  portfolio2:
    build: ./portfolio-2-fullstack
    expose:
      - "3002"

  # PORTFOLIO 3 - CREATIVE
  portfolio3:
    build: ./portfolio-3-creative
    expose:
      - "3003"

  # SERVICIOS COMPARTIDOS
  chromadb:
    image: chromadb/chroma
    volumes:
      - ./shared-data/chroma:/chroma

  ollama:
    image: ollama/ollama
    volumes:
      - ./shared-data/ollama:/root/.ollama

  # ANALYTICS (opcional)
  plausible:
    image: plausible/analytics
    expose:
      - "8000"
```

**nginx.conf MAESTRO:**
```nginx
upstream landing {
    server landing:3000;
}

upstream portfolio1_front {
    server portfolio1-frontend:3001;
}

upstream portfolio1_back {
    server portfolio1-backend:5001;
}

server {
    listen 80;
    server_name tudominio.com;

    # Landing page
    location / {
        proxy_pass http://landing;
    }

    # Portfolio 1 - AI Chat
    location /portfolio/ai {
        proxy_pass http://portfolio1_front;
        # Rewrite para que React Router funcione
        try_files $uri /portfolio/ai/index.html;
    }

    location /portfolio/ai/api {
        proxy_pass http://portfolio1_back;
        # Strip /portfolio/ai prefix
        rewrite ^/portfolio/ai/api(.*)$ $1 break;
    }

    # Portfolio 2
    location /portfolio/fullstack {
        proxy_pass http://portfolio2:3002;
    }

    # Portfolio 3
    location /portfolio/creative {
        proxy_pass http://portfolio3:3003;
    }

    # Analytics
    location /analytics {
        proxy_pass http://plausible:8000;
    }
}
```

### **ğŸ¯ Ventajas de esta estructura:**

1. **Modular**: Cada portfolio es independiente
2. **Escalable**: Agregar portfolio 4, 5... es trivial
3. **Mantenible**: Puedes actualizar uno sin afectar otros
4. **Profesional**: Un dominio, mÃºltiples proyectos
5. **SEO Friendly**: URLs limpias como `/portfolio/ai`

### **ğŸ“ Para tu Notion:**
- **Fase 1**: Implementar nginx ahora (preparando para el futuro)
- **Fase 2**: Estructura completa cuando tengas los 3 portfolios
- **Beneficio**: No tendrÃ¡s que rehacer nada, solo mover carpetas